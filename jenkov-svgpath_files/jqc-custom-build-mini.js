function jqcPageController(){var pageController={};pageController.bootPhases=["configure","layout","render"];pageController.bootState={instantiateModules:false,register:false,instantiateComponents:false,configure:false,layout:false,render:false};pageController.factories={};pageController.modules={};pageController.moduleList=new Array;pageController.components={};pageController.componentList=new Array;pageController.instantiateModules=function(){console.log("== jqc: instantiateModules phase started ==");var modules=jQuery("[jqc-module]");var _jqcPageController=pageController;modules.each(function(){var moduleElement=jQuery(this);var moduleFactoryFunctionName=moduleElement.attr("jqc-module");var moduleId=moduleElement.attr("id");if(typeof moduleId==="undefined"){moduleId=moduleFactoryFunctionName}try{var module=eval(moduleFactoryFunctionName+"()");_jqcPageController.addModule(moduleId,module)}catch(e){console.log("Error instantiating module: "+moduleId+", exception: "+e)}})};pageController.addModule=function(e,t){t.jqc={pageController:pageController,id:e};pageController.moduleList.push(t);if(e!=null){pageController.modules[e]=t}console.log("   added module: "+e)};pageController.register=function(){console.log("== jqc: register phase started ==");pageController.bootState.register=true;pageController.addFactory("jqcResponsiveLayoutGrid",function(){return jqcResponsiveLayoutGrid()});pageController.addFactory("jqcResponsiveLayoutManager",function(){return jqcResponsiveLayoutManager()});pageController.addFactory("jqcEmpty",function(){return jqcEmpty()});pageController.addFactory("jqcLabel",function(){return jqcLabel()});pageController.addFactory("jqcPanelDeck",function(){return jqcPanelDeck()});pageController.addFactory("jqcLayer",function(){return jqcLayer()});pageController.addFactory("jqcOverlay",function(){return jqcOverlay()});pageController.addFactory("jqcProgressBar",function(){return jqcProgressBar()});pageController.addFactory("jqcToolbar",function(){return jqcToolbar()});pageController.addFactory("jqcDataService",function(){return jqcDataService()});pageController.addFactory("jqcDataModel",function(){return jqcDataModel()});pageController.addFactory("jqcViewModel",function(){return jqcViewModel()});pageController.addFactory("jqcList",function(){return jqcList()});pageController.addFactory("jqcTable",function(){return jqcTable()});pageController.addFactory("jqcTreeList",function(){return jqcTreeList()});pageController.addFactory("jqcButton",function(){return jqcButton()});pageController.addFactory("jqcForm",function(){return jqcForm()});pageController.addFactory("jqcTimer",function(){return jqcTimer()});jQuery("[jqc-factory]").each(function(e,t){var n=jQuery(this);var r=n.attr("jqc-factory");var i=pageController.lookupFunction(r);var s=n.attr("id");if(typeof s==="undefined"){s=r}pageController.addFactory(s,function(){return i()});console.log("   added factory "+s)})};pageController.addFactory=function(e,t){pageController.factories[e]=t};pageController.instantiateComponents=function(){console.log("== jqc: instantiate phase started ==");pageController.bootState.instantiate=true;var e=pageController;var t=jQuery("[jqc-type]");t.each(function(){var t=jQuery(this);try{var n=e.factories[t.attr("jqc-type")];var r=t.attr("id");if(typeof n==="undefined"){console.error("   jqc error: No factory function found for component (id = "+r+") with type: "+t.attr("jqc-type"))}else{var i=n();e.addComponent(r,i,t)}}catch(s){console.error("   jqc error: Instantiation of component (id = "+r+", type = "+t.attr("jqc-type")+") failed. Exception: "+s)}})};pageController.addComponent=function(e,t,n){t.jqc={pageController:pageController,id:e,element:n};pageController.componentList.push(t);if(e!=null){pageController.components[e]=t}};pageController.executeModulePhase=function(e){console.log("== jqc: "+e+" phase started ==");pageController.bootState[e]=true;for(var t=0;t<pageController.moduleList.length;t++){var n=pageController.moduleList[t];if(typeof n[e]==="function"){n[e](pageController)}}};pageController.executeComponentPhase=function(e){console.log("== jqc: "+e+" phase started ==");pageController.bootState[e]=true;for(var t=0;t<pageController.componentList.length;t++){var n=pageController.componentList[t];if(typeof n[e]==="function"){n[e]()}}};pageController.boot=function(){if(!pageController.bootState.instantiateModules){pageController.instantiateModules()}if(!pageController.bootState.register){pageController.register();pageController.executeModulePhase("postRegister")}if(!pageController.bootState.instantiateComponents){pageController.instantiateComponents();pageController.executeModulePhase("postInstantiate")}for(var e=0;e<pageController.bootPhases.length;e++){var t=pageController.bootPhases[e];if(!pageController.bootState[t]){pageController.executeComponentPhase(t);pageController.executeModulePhase("post"+t.substring(0,1).toUpperCase()+t.substring(1,t.length))}}console.log("== jqc: Boot done ==")};pageController.lookupFunction=function(functionExpression){var dotIndex=functionExpression.indexOf(".");var funcOwner=dotIndex>-1?functionExpression.substring(0,dotIndex):"";var funcName=dotIndex>-1?functionExpression.substring(dotIndex+1,functionExpression.length):functionExpression;if(funcName.indexOf("()")==funcName.length-2){funcName=funcName.substring(0,funcName.length-2)}var func=null;if(funcOwner!==""){var module=pageController.modules[funcOwner];if(typeof module!=="undefined"){func=module[funcName];if(typeof func==="undefined"){throw"No function named "+funcName+" found in module "+funcOwner}}else{var component=pageController.components[funcOwner];if(typeof component!=="undefined"){func=component[funcName];if(typeof func==="undefined"){throw"No function named "+funcName+" found in component "+funcOwner}}else{throw"No module or component found named "+funcOwner}}}else{func=eval(funcName)}if(typeof func!=="function"){throw""+funcName+" is not a function."}return func};return pageController}function jqcEventManager(){var e={listeners:{},idCounter:0};e.addListener=function(t,n){var r={id:e.idCounter++,listenerFunction:n};r.remove=function(){e.removeListener(r)};if(typeof e.listeners[t]=="undefined"){e.listeners[t]=[]}e.listeners[t].push(r);return r};e.addListenerFromElementAttribute=function(t,n,r){var i=t.attr(n);if(typeof i!=="undefined"){var s=n.substring(4,n.length);var o=r.lookupFunction(i);return e.addListener(s,o)}return null};e.removeListener=function(t){for(var n in e.listeners){var r=e.listeners[n];for(var i=0;i<r.length;i++){if(r[i].id==t.id){r.splice(i,1);return}}}};e.fireEvent=function(t,n){var r=e.listeners[t];if(typeof r=="undefined"){return}for(var i=0;i<r.length;i++){n(r[i])}};e.fireEventOn=function(t,n){t.on(n,function(t){e.fireEvent(n,function(e){e.listenerFunction(t)})})};return e}function jqcResponsiveLayoutManager(){var e={};e.config={};e.config.widthIntervals=[0,300,600,900,1200];e.config.columnCount=12;e.config.columnCounts=["12","","","",""];e.config.rowWidths=["100%","","","","1200"];e.config.rowPaddings=["0","","","",""];e.config.cellSpacings=["0","","","",""];e.config.rowSelector="div[jqc-row]";e.config.cellAttr="jqc-cell";e.config.cellSelector=">div["+e.config.cellAttr+"]";e.config.cellIndexAttr="jqc-cell-indexes";e.config.columnCountAttr="jqc-column-count";e.config.columnCountsAttr="jqc-column-counts";e.config.rowWidthsAttr="jqc-row-widths";e.config.rowPaddingsAttr="jqc-row-paddings";e.config.cellSpacingsAttr="jqc-cell-spacings";e.config.widthIntervalsAttr="jqc-width-intervals";e.width=0;e.widthInterval=0;e.eventManager=jqcEventManager();e.rows=new Array;e.widthChange=function(t){e.eventManager.addListener("width-change",t);return e};e.widthIntervalChange=function(t){e.eventManager.addListener("width-interval-change",t);return e};e.configure=function(){console.log("   jqcResponsiveLayoutManager NEW configure() start");var t=e.jqc.element.attr(e.config.widthIntervalsAttr);if(typeof t!="undefined"){e.parseWidthIntervals(t,e.config.widthIntervals)}var n=e.jqc.element.attr(e.config.columnCountAttr);if(typeof n!="undefined"){e.config.columnCount=parseInt(n,10)}e.configureManagerFromAttribute(e.config.columnCountsAttr,e.config.columnCounts,e.config.widthIntervals.length);e.configureManagerFromAttribute(e.config.rowWidthsAttr,e.config.rowWidths,e.config.widthIntervals.length);e.configureManagerFromAttribute(e.config.rowPaddingsAttr,e.config.rowPaddings,e.config.widthIntervals.length);e.configureManagerFromAttribute(e.config.cellSpacingsAttr,e.config.cellSpacings,e.config.widthIntervals.length);e.rows.splice(0,e.rows.length);var r=jQuery(e.config.rowSelector);r.each(function(){e.configureRow(jQuery(this))});var i=e.jqc.pageController;var s=e.jqc.element;e.eventManager.addListenerFromElementAttribute(s,"jqc-width-change",i);e.eventManager.addListenerFromElementAttribute(s,"jqc-width-interval-change",i);jQuery(window).resize(function(){e.layout()});console.log("   jqcResponsiveLayoutManager configure() end")};e.configureManagerFromAttribute=function(t,n,r){var i=e.jqc.element.attr(t);if(typeof i!="undefined"){e.parseWidthDefs(i,n,r)}};e.parseWidthIntervals=function(e,t){t.splice(0,t.length);var n=e.split(",");for(var r=0;r<n.length;r++){t.push(parseInt(n[r].trim(),10))}};e.configureRow=function(t){var n={element:t,widthIntervals:[],columnCounts:[],width:0,innerWidth:0,widths:[],paddings:[],cellSpacings:[],columnCount:e.config.columnCount,cells:[],sortCells:false,columnBoundaries:[]};e.removeWhiteSpaceBetweenCells(n);var r=n.element.attr(e.config.widthIntervalsAttr);if(typeof r!="undefined"){e.parseWidthIntervals(r,n.widthIntervals)}else{e.copyArray(e.config.widthIntervals,n.widthIntervals)}var i=n.element.attr(e.config.columnCountAttr);if(typeof i!="undefined"){n.columnCount=parseInt(i,10)}e.configureRowFromAttribute(n,e.config.columnCountsAttr,n.columnCounts,n.widthIntervals.length,e.config.columnCounts);e.configureRowFromAttribute(n,e.config.rowWidthsAttr,n.widths,n.widthIntervals.length,e.config.rowWidths);e.configureRowFromAttribute(n,e.config.rowPaddingsAttr,n.paddings,n.widthIntervals.length,e.config.rowPaddings);e.configureRowFromAttribute(n,e.config.cellSpacingsAttr,n.cellSpacings,n.widthIntervals.length,e.config.cellSpacings);e.configureCells(n);e.rows.push(n)};e.configureRowFromAttribute=function(t,n,r,i,s){var o=t.element.attr(n);if(typeof o!="undefined"){e.parseWidthDefs(o,r,t.widthIntervals.length)}else{e.copyArray(s,r)}};e.removeWhiteSpaceBetweenCells=function(e){e.element.contents().filter(function(){return this.nodeType==3&&!/\S/.test(this.nodeValue)}).remove()};e.copyArray=function(e,t){for(var n=0;n<e.length;n++){t[n]=e[n]}};e.configureCells=function(t){var n=t.element.find(e.config.cellSelector);n.each(function(n,r){e.configureCell(t,jQuery(this),t.cells);t.cells[n].naturalIndex=n})};e.configureCell=function(t,n,r){var i={element:n,width:0,widths:[],naturalIndex:0,indexForInterval:-1,indexes:[]};var s=n.attr(e.config.cellAttr);e.parseWidthDefs(s,i.widths,t.widthIntervals.length);var o=n.attr(e.config.cellIndexAttr);i.indexes.slice(0,i.indexes.length);if(typeof o!="undefined"){e.parseWidthDefs(o,i.indexes,t.widthIntervals.length);t.sortCells=true}else{for(var u=0;u<t.widthIntervals.length;u++){i.indexes.push("")}}r.push(i)};e.parseWidthDefs=function(t,n,r){e.resetWidthDefs(n,r);var i=t.split(" ");for(var s=0;s<i.length;s++){var o=i[s].indexOf(":");var u=parseInt(i[s].substring(0,o),10);n[u]=i[s].substring(o+1)}};e.resetWidthDefs=function(e,t){for(var n=0;n<t;n++){e[n]=""}};e.layout=function(){var t=e.width;e.width=jQuery(window).innerWidth();var n=e.widthInterval;e.widthInterval=e.determineWidthInterval(e.width,e.config.widthIntervals);for(var r=0;r<e.rows.length;r++){var i=e.rows[r];var s=i.element.parent().innerWidth();i.widthInterval=e.determineWidthInterval(s,i.widthIntervals);var o=e.findWidthDefForInterval(i.widths,i.widthInterval,"100%");i.width=e.parsePercentageOrFixedWidthDef(o,s);if(i.width>0){i.element.css("width",i.width).show()}else{i.element.hide()}var u=e.findWidthDefForInterval(i.paddings,i.widthInterval,"0");var a=e.parsePercentageOrFixedWidthDef(u,i.width);var f=e.findWidthDefForInterval(i.cellSpacings,i.widthInterval,"0");var l=e.parsePercentageOrFixedWidthDef(f,i.width);i.columnCount=parseInt(e.findWidthDefForInterval(i.columnCounts,i.widthInterval,"12"),10);e.calcRowColumnBoundaries(i,a,l);var c=i.cells;if(i.sortCells){c=e.sortCells(i)}e.layoutCells(i,c,a,l)}e.eventManager.fireEvent("width-change",function(n){n.listenerFunction(e.width,t)});if(e.widthInterval!=n){e.eventManager.fireEvent("width-interval-change",function(t){t.listenerFunction(e.widthInterval,n)})}};e.layoutCells=function(t,n,r,i){var s=0;for(var o=0;o<n.length;o++){var u=n[o];u.columnIndex=s;var a=e.findWidthDefForInterval(u.widths,t.widthInterval,"0");u.width=e.parseColumnWidthDef(a,t,u);if(u.width>0){u.element.css("width",u.width);if(u.columnIndex==0){u.element.css("margin-left",r)}else{u.element.css("margin-left",i)}u.element.show()}else{u.element.hide()}s+=u.columnWidth;if(s>=t.columnCount){s=0}}};e.sortCells=function(t){for(var n=0;n<t.cells.length;n++){var r=t.cells[n];var i=e.findWidthDefForInterval(r.indexes,t.widthInterval,"");r.indexForInterval=i==""?-1:parseInt(i,10)}var s=new Array(t.cells.length);for(var n=0;n<t.cells.length;n++){var r=t.cells[n];if(r.indexForInterval!=-1){s[r.indexForInterval]=r}}for(var n=0;n<t.cells.length;n++){var r=t.cells[n];if(r.indexForInterval==-1){var o=0;while(s[r.naturalIndex+o]!=null){o++}s[r.naturalIndex+o]=r}}for(var n=0;n<s.length;n++){s[n].element.appendTo(t.element)}return s};e.parseColumnWidthDef=function(e,t,n){var r=e.substring(e.length-1,e.length);if(r=="c"){var i=e.substring(0,e.length-1);n.columnWidth=parseInt(i,10);return t.columnBoundaries[n.columnIndex+n.columnWidth].prevColEnd-t.columnBoundaries[n.columnIndex].nextColBegin}};e.findWidthDefForInterval=function(e,t,n){var r=t;while(e[r]==""&&r>=0){r--}if(r>=0)return e[r];return n};e.parsePercentageOrFixedWidthDef=function(e,t){var n=e.substring(e.length-1,e.length);if(n=="%"){var r=e.substring(0,e.length-1);return Math.floor(t*parseFloat(r)/100)}else{return parseInt(e,10)}};e.calcRowColumnBoundaries=function(e,t,n){e.innerWidth=e.width-t*2+n;e.columnBoundaries=new Array(e.columnCount+1);for(var r=0;r<e.columnCount;r++){var i=Math.floor(e.innerWidth*r/e.columnCount);var s=i-Math.floor(n/2);var o=i+Math.floor(n/2);e.columnBoundaries[r]={prevColEnd:s,boundary:i,nextColBegin:o}}e.columnBoundaries[e.columnCount]={prevColEnd:e.innerWidth-Math.floor(n/2),boundary:e.innerWidth}};e.determineWidthInterval=function(e,t){for(var n=0;n<t.length;n++){if(e<t[n])return n-1}return t.length-1};return e}jqc={};jQuery(document).ready(function(){if(typeof jqcAutoBoot==="undefined"||jqcAutoBoot===true){console.log("== jqc: Auto Boot Begin");jqc.pageController=jqcPageController();jqc.pageController.boot();console.log("== jqc: Auto Boot Done")}else{console.log("== jqc: No Auto Boot")}})